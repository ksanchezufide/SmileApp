@{
    ViewData["Title"] = "Gestión de Pacientes";
}

<div class="container-fluid">
    <!-- Encabezado del Módulo -->
    <div class="row mb-5 justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg">
                <div class="card-header bg-info text-white text-center py-4">
                    <h1 class="display-4 fw-bold">Módulo de Gestión de Pacientes</h1>
                    <p class="lead">Aquí podrás gestionar todos los pacientes registrados en la clínica dental.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Filtro de Búsqueda de Pacientes -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Buscar Pacientes</h5>
                    <form class="d-flex">
                        <input type="text" class="form-control" placeholder="Buscar por nombre o ID de paciente..." aria-label="Buscar pacientes" id="searchInput">
                        <button type="submit" class="btn btn-info ms-2">Buscar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Acciones Rápidas -->
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    <h5 class="card-title">Acciones Rápidas</h5>
                    <div class="d-flex justify-content-center">
                        <a href="/Pacientes/Nuevo" class="btn btn-success mx-2">Nuevo Paciente</a>
                        <a href="/Pacientes/Eliminar" class="btn btn-danger mx-2">Eliminar Paciente</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lista de Pacientes -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-4">Lista de Pacientes</h2>
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Edad</th>
                        <th>Última Cita</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aquí irían los pacientes dinámicamente -->
                    <tr>
                        <td>001</td>
                        <td>Juan Pérez</td>
                        <td>35</td>
                        <td>2025-03-20</td>
                        <td>
                            <a href="/Pacientes/Detalles/001" class="btn btn-info btn-sm">Ver Detalles</a>
                            <a href="/Pacientes/Editar/001" class="btn btn-warning btn-sm">Editar</a>
                        </td>
                    </tr>
                    <tr>
                        <td>002</td>
                        <td>Ana Gómez</td>
                        <td>28</td>
                        <td>2025-03-18</td>
                        <td>
                            <a href="/Pacientes/Detalles/002" class="btn btn-info btn-sm">Ver Detalles</a>
                            <a href="/Pacientes/Editar/002" class="btn btn-warning btn-sm">Editar</a>
                        </td>
                    </tr>
                    <tr>
                        <td>003</td>
                        <td>Carlos Martínez</td>
                        <td>40</td>
                        <td>2025-03-15</td>
                        <td>
                            <a href="/Pacientes/Detalles/003" class="btn btn-info btn-sm">Ver Detalles</a>
                            <a href="/Pacientes/Editar/003" class="btn btn-warning btn-sm">Editar</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
</div>

<!-- Script para Filtrar Pacientes -->
<script>
    // Función para filtrar pacientes por nombre o ID
    document.getElementById('searchInput').addEventListener('input', function () {
        let searchValue = this.value.toLowerCase();
        let rows = document.querySelectorAll('table tbody tr');

        rows.forEach(row => {
            let id = row.cells[0].innerText.toLowerCase();
            let name = row.cells[1].innerText.toLowerCase();
            if (id.includes(searchValue) || name.includes(searchValue)) {
                row.style.display = '';
            } else {
                row.style.display = 'none';
            }
        });
    });
</script>
